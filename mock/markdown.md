# 代码规范-CSS

css的代码规范有很多，各大厂都有自己的规范文档，需要综合学习整理出适合自己、适合团队的规范。
本文综合NEC、Airbnb的规范，因为在网易，所以主要还是以NEC的规范为主，综合其他的规范优点整理出自己以后写css的规范
参考：
1. [NEC](http://nec.netease.com/standard/css-sort.html)
2. [Baidu](https://github.com/ecomfe/spec/blob/master/css-style-guide.md)
3. [Airbnb](https://github.com/Zhangjd/css-style-guide)

### 分类方法及顺序
1. 重置reset和默认base规则
2. 布局grid: .g-，将页面分为几大块的，如头部，主体、底部等；
3. 模块module：.m-，语义化可重用的较大整体，如导航、登录、列表等；
4. 元件unit：.u-，不可再分的较小的个体，被重复用于各模块中，如按钮、输入框、图标等；
5. 功能function：.f-，为方便一些常用样式的使用，将使用率较高的样式分离出来按需使用，如清除浮动等；
6. 皮肤skin：.s-，皮肤型样式，通常为文字色、背景色、边框色等
7. 状态：.z-，

注意：
1. 分类的命名方法：单字母 + '-' 为前缀https://github.com/ecomfe/spec/blob/master/css-style-guide.md
2. .j-将被专用于js去获取节点，不要用.j-定义样式
3. 如果上述分类无法满足要求，可自定义分类，但需符合单字母+'-'的规则，如.x-
4. '-'不表示连字符含义，只表示两种含义：分类前缀分隔符、扩展分隔符；即'-'是有一定语义的

### 命名规则小点
1. 对于样式不使用id选择器，样式只由class控制，id只给js使用；
2. 样式中的选择器总是以分类开头，然后在里面用后代选择器
3. 后代选择器命名：
    - 不以单个字母+'-'为前缀，类选择器的命名长度大于等于2，禁止单个字母的类选择器出现（当后代选择器需要扩展时，如单字母.m-list .a会扩展成.a-bb，造成和大类冲突）
    - 标签也可以是后代选择器
    - 后代选择器的命名不需要完整表现结构树的层级，能短尽量短
    - 后代选择器不要在页面布局（即全局）中使用，很大可能会造成污染
    - （使用后代选择器不需要考虑命名是否已经被使用，因为只在当前模块和元件中生效，同样的样式名称可以在不同模块和元件中重复使用互不干扰，适合多人协作！）
4. 相同语义的不同类命名
    - 即从语义上来说都是某一种类型，但是样式或结构完全不一样，如.m-list、.m-list2都是列表，但是完全不一样
    - 方法：直接加数字或字母区分
5. 模块和元件的扩展类命名
    - 当A、B、C类型相同且样式区别不大，就以出现率最高的作为基类，其他类做成扩展类
    - 命名：+ '-' + 数字或字母，如.m-list -> .m-list-1；（注意和相同语义不同类的命名区别，这里中间有一个'-'，表示扩展）
    - 基类自身可独立使用(如class="m-list")，扩展类必须基于基类使用(如class="m-list m-list-1")
    - 如果扩展类表示不同状态，也可以类似这样命名：u-btn -> u-btn-hov、u-btn-sel
    - 如果虽然两个同类型的模块很相似，但不希望存在依赖关系，不希望引入扩展类，还可以使用分组选择器，将相同样式写在一起，再分别设置样式
6. 当模块和元件之间相互嵌套，且使用了相同的标签选择器或其他后代选择器，那里面的选择器就会被外面的选择器所影响；所以如果有嵌套，慎用标签选择器，必要时采用类选择器，且注意命名
    - 如.m-list p 改为 .m-list .xxx 再改为 .m-list1 .list1xxx的方式降低污染可能性
7. 选择器等级（a,b,c,d）
    - a: 行内样式
    - b：id选择器数量
    - c：类、伪类、属性选择器数量
    - d：标签选择器和伪元素选择器数量
8. 在定义无边框样式时，使用 0 代替 none，如border: 0;

### 代码格式
1. 【保留个人意见！】NEC：单行写完一个选择器定义，即属性在一行写完；百度规定属性必须另起一行

2. 省略值为0的单位

3. NEC: 省略url引用中的引号，其他需要引号的地方使用单引号;  百度规定使用双引号不允许使用单引号
    - background: url(bg.png); content: '';

4. 根据属性的重要性按顺序书写：显示属性 -> 自身属性 -> 文本属性和其他修饰；如果属性之间存在关联不要隔开写，如height和line-height

    （横向规则）

    | 显示属性   | 自身属性  | 文本属性和其他修饰 |
    | ---------- | --------- | ------------------ |
    | display    | width     | font               |
    | visibility | height    | text-align         |
    | position   | margin    | text-decoration    |
    | float      | padding   | vertical-align     |
    | clear      | border    | white-space        |
    | list-style | overflow  | color              |
    | top        | min-width | background         |

5. 私有属性在前，标准属性在后

6. 多选择器规则声明时，每个选择器独占一行

7. 规则声明左大括号前加一个空格，右大括号独占一行；属性的冒号后加一个空格

8. 规则声明之间空行分开

9. 缩进：NEC规定2空格，百度规定4空格，airbnb规定2空格

10. 当数值为0~1之间时，省略整数部分的0



### 典型错误

- .class{}：不要以一个没有类别的样式作为主选择器，这样的选择器只能作为后代选择器使用，比如.m-xxx .class{}。
- .m-xxx div{} ：不要以没有语义的标签作为选择器，这会造成大面积污染，除非你可以断定现在或将来你的这个选择器不会污染其他同类。
- .g-xxx .class{} ：不要在页面布局中使用后代选择器，因为这个后代选择器可能会污染里面的元素。
- .g-xxx .m-yyy{}.g-xxx .u-yyy{}：不要用布局去控制模块或元件，模块和元件应与布局分离独立。


### 代码测试

``` css
.body {
    background: red;
}
```


``` js
// test js
const name = "test";
function say() {
    console.log("hello");
}
```
    
``` bash
# test bash
npm install

npm run build

npm start
```